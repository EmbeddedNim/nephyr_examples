/* Generated by Nim Compiler v1.7.1 */
#define NIM_INTBITS 32

#include "nimbase.h"
#include <string.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
#define nimfr_(x, y)
#define nimln_(x, y)
typedef struct tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ;
typedef struct tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A;
typedef struct NimStrPayload NimStrPayload;
typedef struct NimStringV2 NimStringV2;
typedef struct tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw;
typedef struct tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA;
typedef struct Exception Exception;
typedef struct RootObj RootObj;
typedef struct TNimTypeV2 TNimTypeV2;
typedef struct tySequence__uB9b75OUPRENsBAu4AnoePA tySequence__uB9b75OUPRENsBAu4AnoePA;
typedef struct tySequence__uB9b75OUPRENsBAu4AnoePA_Content tySequence__uB9b75OUPRENsBAu4AnoePA_Content;
typedef struct tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA;
struct tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A {NI rc;
};
struct NimStrPayload {NI cap;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct NimStringV2 {NI len;
NimStrPayload* p;
};
struct tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ {NimStringV2 data;
NI pos;
};
struct TNimTypeV2 {void* destructor;
NI size;
NI align;
NCSTRING name;
void* traceImpl;
void* typeInfoV1;
NI flags;
};
struct RootObj {TNimTypeV2* m_type;};
struct tySequence__uB9b75OUPRENsBAu4AnoePA {
  NI len; tySequence__uB9b75OUPRENsBAu4AnoePA_Content* p;
};
struct Exception {  RootObj Sup;Exception* parent;
NCSTRING name;
NimStringV2 message;
tySequence__uB9b75OUPRENsBAu4AnoePA trace;
Exception* up;
};
struct tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA {  Exception Sup;};
struct tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw {  tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA Sup;};
struct tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA {NCSTRING procname;
NI line;
NCSTRING filename;
};


#ifndef tySequence__uB9b75OUPRENsBAu4AnoePA_Content_PP
#define tySequence__uB9b75OUPRENsBAu4AnoePA_Content_PP
struct tySequence__uB9b75OUPRENsBAu4AnoePA_Content { NI cap; tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA data[SEQ_DECL_SIZE];};
#endif

      static N_INLINE(NIM_BOOL, nimDecRefIsLast)(void* p);
static N_INLINE(NI, minuspercent___system_716)(NI x, NI y);
N_LIB_PRIVATE N_NOINLINE(void, raiseOverflow)(void);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_94)(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ* dest);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___system_2859)(NimStringV2* dest);
N_LIB_PRIVATE N_NIMCALL(void, nimRawDispose)(void* p, NI alignment);
N_LIB_PRIVATE N_NIMCALL(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ*, new__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_76)(void);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_85)(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ** dest);
N_LIB_PRIVATE N_NIMCALL(void*, nimNewObj)(NI size, NI alignment);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___system_2865)(NimStringV2* dest, NimStringV2 src);
N_NIMCALL(NimStringV2, rawNewString)(NI cap);
N_LIB_PRIVATE N_NOINLINE(void, raiseRangeErrorI)(NI64 i, NI64 a, NI64 b);
N_LIB_PRIVATE N_NIMCALL(void, setLengthStrV2)(NimStringV2* s, NI newLen);
static N_INLINE(void, copyMem__system_1709)(void* dest, void* source, NI size);
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size);
N_LIB_PRIVATE N_NOINLINE(void, raiseIndexError2)(NI i, NI n);
N_LIB_PRIVATE N_NIMCALL(void, writeData__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_18)(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ* s, void* buffer, NI bufLen);
N_LIB_PRIVATE N_NIMCALL(NI, clamp__pureZstreams_682)(NI x, NI a, NI b);
N_LIB_PRIVATE N_NIMCALL(void, read__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_132)(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ* s, NI8* result);
N_LIB_PRIVATE N_NIMCALL(NI, readData__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_42)(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ* s, void* buffer, NI bufLen);
N_LIB_PRIVATE N_NIMCALL(void, failedAssertImpl__systemZassertions_49)(NimStringV2 msg);
N_LIB_PRIVATE N_NIMCALL(void, read__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_150)(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ* s, NI16* result);
N_NIMCALL(NimStringV2, mnewString)(NI len);
N_LIB_PRIVATE N_NIMCALL(void, raiseExceptionEx)(Exception* e, NCSTRING ename, NCSTRING procname, NCSTRING filename, NI line);
N_LIB_PRIVATE N_NIMCALL(void, read__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_114)(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ* s, NIM_CHAR* result);
static const struct {
  NI cap; NIM_CHAR data[30+1];
} TM__dEqBY5ONf3zfrVyuuTlMUQ_8 = { 30 | NIM_STRLIT_FLAG, "msgbuffer.nim(85, 13) `false` " };
static const NimStringV2 TM__dEqBY5ONf3zfrVyuuTlMUQ_9 = {30, (NimStrPayload*)&TM__dEqBY5ONf3zfrVyuuTlMUQ_8};
static const NimStringV2 TM__dEqBY5ONf3zfrVyuuTlMUQ_10 = {30, (NimStrPayload*)&TM__dEqBY5ONf3zfrVyuuTlMUQ_8};
extern TNimTypeV2 NTIv2__iLZrPn9anoh9ad1MmO0RczFw_;
static const struct {
  NI cap; NIM_CHAR data[19+1];
} TM__dEqBY5ONf3zfrVyuuTlMUQ_11 = { 19 | NIM_STRLIT_FLAG, "string len mismatch" };
static const NimStringV2 TM__dEqBY5ONf3zfrVyuuTlMUQ_12 = {19, (NimStrPayload*)&TM__dEqBY5ONf3zfrVyuuTlMUQ_11};
static const NimStringV2 TM__dEqBY5ONf3zfrVyuuTlMUQ_13 = {30, (NimStrPayload*)&TM__dEqBY5ONf3zfrVyuuTlMUQ_8};
static const NimStringV2 TM__dEqBY5ONf3zfrVyuuTlMUQ_15 = {19, (NimStrPayload*)&TM__dEqBY5ONf3zfrVyuuTlMUQ_11};
extern NIM_THREADVAR NIM_BOOL nimInErrorMode__system_4001;

#line 413 "/home/user/.choosenim/toolchains/nim-#devel/lib/system/arithmetics.nim"
static N_INLINE(NI, minuspercent___system_716)(NI x, NI y) {	NI result;	result = (NI)0;
#line 414 "/home/user/.choosenim/toolchains/nim-#devel/lib/system/arithmetics.nim"

#line 418 "/home/user/.choosenim/toolchains/nim-#devel/lib/system/arithmetics.nim"
	result = ((NI) ((NU)((NU32)(((NU) (x))) - (NU32)(((NU) (y))))));	return result;}

#line 189 "/home/user/.choosenim/toolchains/nim-#devel/lib/system/arc.nim"
static N_INLINE(NIM_BOOL, nimDecRefIsLast)(void* p) {	NIM_BOOL result;{	result = (NIM_BOOL)0;
#line 190 "/home/user/.choosenim/toolchains/nim-#devel/lib/system/arc.nim"
	{		tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A* cell;		NI T5_;
#line 190 "/home/user/.choosenim/toolchains/nim-#devel/lib/system/arc.nim"

#line 190 "/home/user/.choosenim/toolchains/nim-#devel/lib/system/arc.nim"
		if (!!((p == NIM_NIL))) goto LA3_;

#line 191 "/home/user/.choosenim/toolchains/nim-#devel/lib/system/arc.nim"

#line 63 "/home/user/.choosenim/toolchains/nim-#devel/lib/system/arc.nim"

#line 63 "/home/user/.choosenim/toolchains/nim-#devel/lib/system/arc.nim"
		T5_ = (NI)0;		T5_ = minuspercent___system_716(((NI) (ptrdiff_t) (p)), ((NI) 4));		cell = ((tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A*) (T5_));
#line 198 "/home/user/.choosenim/toolchains/nim-#devel/lib/system/arc.nim"
		{
#line 198 "/home/user/.choosenim/toolchains/nim-#devel/lib/system/arc.nim"

#line 198 "/home/user/.choosenim/toolchains/nim-#devel/lib/system/arc.nim"
			if (!((NI)((*cell).rc & ((NI) -8)) == ((NI) 0))) goto LA8_;

#line 199 "/home/user/.choosenim/toolchains/nim-#devel/lib/system/arc.nim"
			result = NIM_TRUE;		}
		goto LA6_;
		LA8_: ;
		{			NI TM__dEqBY5ONf3zfrVyuuTlMUQ_2;
#line 203 "/home/user/.choosenim/toolchains/nim-#devel/lib/system/arc.nim"
			if (nimSubInt((*cell).rc, ((NI) 8), &TM__dEqBY5ONf3zfrVyuuTlMUQ_2)) { raiseOverflow(); goto BeforeRet_;};			(*cell).rc = (NI)(TM__dEqBY5ONf3zfrVyuuTlMUQ_2);		}
		LA6_: ;
	}
	LA3_: ;
	}BeforeRet_: ;
	return result;}

#line 903 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_94)(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ* dest) {
#line 903 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"

#line 903 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"
	eqdestroy___system_2859((&(*dest).data));
}

#line 903 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_85)(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ** dest) {
#line 903 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"
	{		NIM_BOOL T3_;
#line 903 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"

#line 903 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"
		T3_ = (NIM_BOOL)0;		T3_ = nimDecRefIsLast((*dest));		if (!T3_) goto LA4_;

#line 903 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"

#line 903 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"
		eqdestroy___OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_94((*dest));

#line 903 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"

#line 903 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"
		nimRawDispose((*dest), ((NI) 4));
	}
	LA4_: ;
}

#line 423 "/home/user/.choosenim/toolchains/nim-#devel/lib/system/excpt.nim"
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {	NIM_BOOL* result;	result = (NIM_BOOL*)0;
#line 424 "/home/user/.choosenim/toolchains/nim-#devel/lib/system/excpt.nim"
	result = (&nimInErrorMode__system_4001);	return result;}

#line 896 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"
N_LIB_PRIVATE N_NIMCALL(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ*, new__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_76)(void) {	tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ* result;	tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ* r;NIM_BOOL* nimErr_;{nimErr_ = nimErrorFlag();	result = NIM_NIL;	r = NIM_NIL;
#line 903 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"

#line 903 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"
	eqdestroy___OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_85(&r);

#line 906 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"
	r = (tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ*) nimNewObj(sizeof(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ), NIM_ALIGNOF(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ));
#line 907 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"

#line 907 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"
	result = r;
#line 907 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"
	r = 0;
#line 903 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"

#line 903 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"
	eqdestroy___OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_85(&r);
	goto BeforeRet_;
	{		LA1_:;	}
	{
#line 903 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"

#line 903 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"
		eqdestroy___OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_85(&r);
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;	}BeforeRet_: ;
	return result;}

#line 45 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
N_LIB_PRIVATE N_NIMCALL(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ*, init__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_71)(NI cap) {	tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ* result;	NimStringV2 T1_;{	result = NIM_NIL;
#line 46 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 46 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	result = new__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_76();
#line 53 "/home/user/.choosenim/toolchains/nim-#devel/lib/system/fatal.nim"

#line 47 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	if ((cap) < ((NI) 0) || (cap) > ((NI) 2147483647)){ raiseRangeErrorI(cap, ((NI) 0), ((NI) 2147483647)); goto BeforeRet_;}
#line 47 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	T1_.len = 0; T1_.p = NIM_NIL;	T1_ = rawNewString(((NI) (cap)));
#line 53 "/home/user/.choosenim/toolchains/nim-#devel/lib/system/fatal.nim"
	eqsink___system_2865((&(*result).data), T1_);

#line 48 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	(*result).pos = ((NI) 0);	}BeforeRet_: ;
	return result;}

#line 8 "/home/user/.choosenim/toolchains/nim-#devel/lib/system/memory.nim"
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size) {	void* T1_;
#line 10 "/home/user/.choosenim/toolchains/nim-#devel/lib/system/memory.nim"

#line 10 "/home/user/.choosenim/toolchains/nim-#devel/lib/system/memory.nim"
	T1_ = (void*)0;	T1_ = memcpy(dest, source, ((size_t) (size)));}

#line 2231 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"
static N_INLINE(void, copyMem__system_1709)(void* dest, void* source, NI size) {
#line 2232 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"

#line 2232 "/home/user/.choosenim/toolchains/nim-#devel/lib/system.nim"
	nimCopyMem(dest, source, size);
}

#line 55 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
N_LIB_PRIVATE N_NIMCALL(void, writeData__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_18)(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ* s, void* buffer, NI bufLen) {	NI TM__dEqBY5ONf3zfrVyuuTlMUQ_5;{
#line 56 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	{
#line 56 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
		if (!(bufLen <= ((NI) 0))) goto LA3_;

#line 56 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
		goto BeforeRet_;
	}
	LA3_: ;

#line 57 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	{		NI TM__dEqBY5ONf3zfrVyuuTlMUQ_3;		NI TM__dEqBY5ONf3zfrVyuuTlMUQ_4;
#line 57 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 57 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 57 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
		if (nimAddInt((*s).pos, bufLen, &TM__dEqBY5ONf3zfrVyuuTlMUQ_3)) { raiseOverflow(); goto BeforeRet_;};		if (!((*s).data.len < (NI)(TM__dEqBY5ONf3zfrVyuuTlMUQ_3))) goto LA7_;

#line 58 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 58 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
		if (nimAddInt((*s).pos, bufLen, &TM__dEqBY5ONf3zfrVyuuTlMUQ_4)) { raiseOverflow(); goto BeforeRet_;};		if (((NI)(TM__dEqBY5ONf3zfrVyuuTlMUQ_4)) < ((NI) 0) || ((NI)(TM__dEqBY5ONf3zfrVyuuTlMUQ_4)) > ((NI) 2147483647)){ raiseRangeErrorI((NI)(TM__dEqBY5ONf3zfrVyuuTlMUQ_4), ((NI) 0), ((NI) 2147483647)); goto BeforeRet_;}		setLengthStrV2((&(*s).data), ((NI) ((NI)(TM__dEqBY5ONf3zfrVyuuTlMUQ_4))));	}
	LA7_: ;

#line 59 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	if ((NU)((*s).pos) >= (NU)(*s).data.len){ raiseIndexError2((*s).pos,(*s).data.len-1); goto BeforeRet_;}	if ((bufLen) < ((NI) 0) || (bufLen) > ((NI) 2147483647)){ raiseRangeErrorI(bufLen, ((NI) 0), ((NI) 2147483647)); goto BeforeRet_;}
#line 59 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	copyMem__system_1709(((void*) ((&(*s).data.p->data[(*s).pos]))), buffer, ((NI) (bufLen)));

#line 60 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	if (nimAddInt((*s).pos, bufLen, &TM__dEqBY5ONf3zfrVyuuTlMUQ_5)) { raiseOverflow(); goto BeforeRet_;};	(*s).pos = (NI)(TM__dEqBY5ONf3zfrVyuuTlMUQ_5);	}BeforeRet_: ;
}

#line 70 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
N_LIB_PRIVATE N_NIMCALL(void, write__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_35)(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ* s, NimStringV2 val) {NIM_BOOL* nimErr_;{nimErr_ = nimErrorFlag();
#line 71 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	{
#line 71 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 71 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
		if (!(((NI) 0) < val.len)) goto LA3_;

#line 71 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
		if ((NU)(((NI) 0)) >= (NU)val.len){ raiseIndexError2(((NI) 0),val.len-1); goto BeforeRet_;}
#line 71 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 71 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
		writeData__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_18(s, ((void*) ((&val.p->data[((NI) 0)]))), val.len);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;	}
	LA3_: ;
	}BeforeRet_: ;
}

#line 128 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
N_LIB_PRIVATE N_NIMCALL(void, setPosition__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_204)(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ* s, NI pos) {
#line 129 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 129 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 129 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	(*s).pos = clamp__pureZstreams_682(pos, ((NI) 0), (*s).data.len);}

#line 75 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
N_LIB_PRIVATE N_NIMCALL(NI, readData__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_42)(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ* s, void* buffer, NI bufLen) {	NI result;	NI TM__dEqBY5ONf3zfrVyuuTlMUQ_6;{	result = (NI)0;
#line 76 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 76 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 76 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 76 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	if (nimSubInt((*s).data.len, (*s).pos, &TM__dEqBY5ONf3zfrVyuuTlMUQ_6)) { raiseOverflow(); goto BeforeRet_;};	result = ((bufLen <= (NI)(TM__dEqBY5ONf3zfrVyuuTlMUQ_6)) ? bufLen : (NI)(TM__dEqBY5ONf3zfrVyuuTlMUQ_6));
#line 77 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	{		NI TM__dEqBY5ONf3zfrVyuuTlMUQ_7;
#line 77 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
		if (!(((NI) 0) < result)) goto LA3_;

#line 78 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
		if ((NU)((*s).pos) >= (NU)(*s).data.len){ raiseIndexError2((*s).pos,(*s).data.len-1); goto BeforeRet_;}		if ((result) < ((NI) 0) || (result) > ((NI) 2147483647)){ raiseRangeErrorI(result, ((NI) 0), ((NI) 2147483647)); goto BeforeRet_;}
#line 78 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
		copyMem__system_1709(buffer, ((void*) ((&(*s).data.p->data[(*s).pos]))), ((NI) (result)));

#line 79 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
		if (nimAddInt((*s).pos, result, &TM__dEqBY5ONf3zfrVyuuTlMUQ_7)) { raiseOverflow(); goto BeforeRet_;};		(*s).pos = (NI)(TM__dEqBY5ONf3zfrVyuuTlMUQ_7);	}
	goto LA1_;
	LA3_: ;
	{
#line 81 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
		result = ((NI) 0);	}
	LA1_: ;
	}BeforeRet_: ;
	return result;}

#line 83 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
N_LIB_PRIVATE N_NIMCALL(void, read__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_132)(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ* s, NI8* result) {NIM_BOOL* nimErr_;{nimErr_ = nimErrorFlag();
#line 84 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	{		NI T3_;
#line 84 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 84 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 84 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 84 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
		T3_ = (NI)0;		T3_ = readData__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_42(s, ((void*) (result)), ((NI) 1));		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;		if (!!((T3_ == ((NI) 1)))) goto LA4_;

#line 85 "msgbuffer.nim"
		{			if (!NIM_TRUE) goto LA8_;

#line 85 "msgbuffer.nim"

#line 85 "msgbuffer.nim"
			failedAssertImpl__systemZassertions_49(TM__dEqBY5ONf3zfrVyuuTlMUQ_9);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;		}
		LA8_: ;
	}
	LA4_: ;
	}BeforeRet_: ;
}

#line 112 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
N_LIB_PRIVATE N_NIMCALL(NI8, readInt8__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_129)(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ* s) {	NI8 result;NIM_BOOL* nimErr_;{nimErr_ = nimErrorFlag();	result = (NI8)0;
#line 113 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 113 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	read__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_132(s, (&result));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;	}BeforeRet_: ;
	return result;}

#line 83 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
N_LIB_PRIVATE N_NIMCALL(void, read__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_150)(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ* s, NI16* result) {NIM_BOOL* nimErr_;{nimErr_ = nimErrorFlag();
#line 84 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	{		NI T3_;
#line 84 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 84 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 84 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 84 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
		T3_ = (NI)0;		T3_ = readData__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_42(s, ((void*) (result)), ((NI) 2));		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;		if (!!((T3_ == ((NI) 2)))) goto LA4_;

#line 85 "msgbuffer.nim"
		{			if (!NIM_TRUE) goto LA8_;

#line 85 "msgbuffer.nim"

#line 85 "msgbuffer.nim"
			failedAssertImpl__systemZassertions_49(TM__dEqBY5ONf3zfrVyuuTlMUQ_10);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;		}
		LA8_: ;
	}
	LA4_: ;
	}BeforeRet_: ;
}

#line 115 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
N_LIB_PRIVATE N_NIMCALL(NI16, readInt16__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_147)(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ* s) {	NI16 result;NIM_BOOL* nimErr_;{nimErr_ = nimErrorFlag();	result = (NI16)0;
#line 116 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 116 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	read__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_150(s, (&result));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;	}BeforeRet_: ;
	return result;}

#line 87 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
N_LIB_PRIVATE N_NIMCALL(NimStringV2, readStr__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_55)(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ* s, NI length) {	NimStringV2 result;NIM_BOOL* nimErr_;{nimErr_ = nimErrorFlag();	result.len = 0; result.p = NIM_NIL;
#line 88 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 88 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	if ((length) < ((NI) 0) || (length) > ((NI) 2147483647)){ raiseRangeErrorI(length, ((NI) 0), ((NI) 2147483647)); goto BeforeRet_;}
#line 88 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	result = mnewString(((NI) (length)));
#line 89 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	{		NI L;
#line 89 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 89 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
		if (!!((length == ((NI) 0)))) goto LA3_;

#line 90 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
		if ((NU)(((NI) 0)) >= (NU)result.len){ raiseIndexError2(((NI) 0),result.len-1); goto BeforeRet_;}
#line 90 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
		L = readData__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_42(s, ((void*) ((&result.p->data[((NI) 0)]))), length);		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
#line 91 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
		{			tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw* T9_;
#line 91 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 91 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
			if (!!((L == length))) goto LA7_;
			T9_ = NIM_NIL;			T9_ = (tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw*) nimNewObj(sizeof(tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw), NIM_ALIGNOF(tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw));			(*T9_).Sup.Sup.Sup.m_type = (&NTIv2__iLZrPn9anoh9ad1MmO0RczFw_);			(*T9_).Sup.Sup.name = "IOError";			(*T9_).Sup.Sup.message = TM__dEqBY5ONf3zfrVyuuTlMUQ_12;			(*T9_).Sup.Sup.parent = ((Exception*) NIM_NIL);
#line 91 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
			raiseExceptionEx((Exception*)T9_, "IOError", "readStr", "msgbuffer.nim", 91);			goto BeforeRet_;		}
		LA7_: ;
	}
	LA3_: ;
	}BeforeRet_: ;
	return result;}

#line 83 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
N_LIB_PRIVATE N_NIMCALL(void, read__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_114)(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ* s, NIM_CHAR* result) {NIM_BOOL* nimErr_;{nimErr_ = nimErrorFlag();
#line 84 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	{		NI T3_;
#line 84 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 84 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 84 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 84 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
		T3_ = (NI)0;		T3_ = readData__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_42(s, ((void*) (result)), ((NI) 1));		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;		if (!!((T3_ == ((NI) 1)))) goto LA4_;

#line 85 "msgbuffer.nim"
		{			if (!NIM_TRUE) goto LA8_;

#line 85 "msgbuffer.nim"

#line 85 "msgbuffer.nim"
			failedAssertImpl__systemZassertions_49(TM__dEqBY5ONf3zfrVyuuTlMUQ_13);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;		}
		LA8_: ;
	}
	LA4_: ;
	}BeforeRet_: ;
}

#line 109 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
N_LIB_PRIVATE N_NIMCALL(NIM_CHAR, readChar__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_111)(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ* s) {	NIM_CHAR result;NIM_BOOL* nimErr_;{nimErr_ = nimErrorFlag();	result = (NIM_CHAR)0;
#line 110 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 110 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	read__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_114(s, (&result));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;	}BeforeRet_: ;
	return result;}

#line 93 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
N_LIB_PRIVATE N_NIMCALL(NimStringV2, readStrRemaining__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_61)(tyObject_MsgBuffercolonObjectType___e0N3alcxvqgzdTSo0mBVcQ* s) {	NimStringV2 result;	NI ln;	NI TM__dEqBY5ONf3zfrVyuuTlMUQ_14;NIM_BOOL* nimErr_;{nimErr_ = nimErrorFlag();	result.len = 0; result.p = NIM_NIL;
#line 94 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 94 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 94 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	if (nimSubInt((*s).data.len, (*s).pos, &TM__dEqBY5ONf3zfrVyuuTlMUQ_14)) { raiseOverflow(); goto BeforeRet_;};	ln = (NI)(TM__dEqBY5ONf3zfrVyuuTlMUQ_14);
#line 95 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 95 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	if ((ln) < ((NI) 0) || (ln) > ((NI) 2147483647)){ raiseRangeErrorI(ln, ((NI) 0), ((NI) 2147483647)); goto BeforeRet_;}
#line 95 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	result = mnewString(((NI) (ln)));
#line 96 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
	{		NI rl;
#line 96 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 96 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
		if (!!((ln == ((NI) 0)))) goto LA3_;

#line 97 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
		if ((NU)(((NI) 0)) >= (NU)result.len){ raiseIndexError2(((NI) 0),result.len-1); goto BeforeRet_;}
#line 97 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
		rl = readData__OOZOOZOOZmcu95utilsZsrcZmcu95utilsZmsgbuffer_42(s, ((void*) ((&result.p->data[((NI) 0)]))), ln);		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
#line 98 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
		{			tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw* T9_;
#line 98 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"

#line 98 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
			if (!!((rl == ln))) goto LA7_;
			T9_ = NIM_NIL;			T9_ = (tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw*) nimNewObj(sizeof(tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw), NIM_ALIGNOF(tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw));			(*T9_).Sup.Sup.Sup.m_type = (&NTIv2__iLZrPn9anoh9ad1MmO0RczFw_);			(*T9_).Sup.Sup.name = "IOError";			(*T9_).Sup.Sup.message = TM__dEqBY5ONf3zfrVyuuTlMUQ_15;			(*T9_).Sup.Sup.parent = ((Exception*) NIM_NIL);
#line 98 "/home/user/mcu_utils/src/mcu_utils/msgbuffer.nim"
			raiseExceptionEx((Exception*)T9_, "IOError", "readStrRemaining", "msgbuffer.nim", 98);			goto BeforeRet_;		}
		LA7_: ;
	}
	LA3_: ;
	}BeforeRet_: ;
	return result;}
